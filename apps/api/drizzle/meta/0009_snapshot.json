{
  "id": "d781a8c0-2137-4528-81db-bc282833e2a8",
  "prevId": "76a87bbf-0c75-43d3-ba06-383638386822",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_uuid": {
          "name": "user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_user_uuid_unique": {
          "name": "users_user_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_uuid"
          ]
        },
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agents": {
      "name": "agents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "agent_uuid": {
          "name": "agent_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agent_id": {
          "name": "agent_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "capabilities": {
          "name": "capabilities",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "endpoint": {
          "name": "endpoint",
          "type": "varchar(2048)",
          "primaryKey": false,
          "notNull": true
        },
        "auth_token_hash": {
          "name": "auth_token_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "auth_token_encrypted": {
          "name": "auth_token_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "max_concurrent_tasks": {
          "name": "max_concurrent_tasks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "agent_type": {
          "name": "agent_type",
          "type": "agent_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'generic'"
        },
        "team_uuid": {
          "name": "team_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "agent_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'offline'"
        },
        "last_health_check": {
          "name": "last_health_check",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "ws_connected": {
          "name": "ws_connected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "last_heartbeat": {
          "name": "last_heartbeat",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "registered_by_user_uuid": {
          "name": "registered_by_user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "agents_agent_uuid_unique": {
          "name": "agents_agent_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "agent_uuid"
          ]
        },
        "agents_agent_id_unique": {
          "name": "agents_agent_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "agent_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.workflow_runs": {
      "name": "workflow_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "workflow_run_id": {
          "name": "workflow_run_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "user_uuid": {
          "name": "user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "workflow_name": {
          "name": "workflow_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "workflow_definition": {
          "name": "workflow_definition",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "input": {
          "name": "input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "workflow_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_workflow_runs_user_uuid": {
          "name": "idx_workflow_runs_user_uuid",
          "columns": [
            {
              "expression": "user_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workflow_runs_status": {
          "name": "idx_workflow_runs_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "workflow_runs_workflow_run_id_unique": {
          "name": "workflow_runs_workflow_run_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "workflow_run_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.stage_executions": {
      "name": "stage_executions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "workflow_run_id": {
          "name": "workflow_run_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "stage_id": {
          "name": "stage_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "stage_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "input": {
          "name": "input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "output": {
          "name": "output",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "execution_time_ms": {
          "name": "execution_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "varchar(2048)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_stage_executions_workflow_run_id": {
          "name": "idx_stage_executions_workflow_run_id",
          "columns": [
            {
              "expression": "workflow_run_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.execution_logs": {
      "name": "execution_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "workflow_run_id": {
          "name": "workflow_run_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "stage_id": {
          "name": "stage_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "input_hash": {
          "name": "input_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "output_hash": {
          "name": "output_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "signature": {
          "name": "signature",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "logged_at": {
          "name": "logged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_execution_logs_workflow_run_id": {
          "name": "idx_execution_logs_workflow_run_id",
          "columns": [
            {
              "expression": "workflow_run_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.api_tokens": {
      "name": "api_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "token_id": {
          "name": "token_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_uuid": {
          "name": "user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "token_hash": {
          "name": "token_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "token_prefix": {
          "name": "token_prefix",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true
        },
        "scopes": {
          "name": "scopes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_api_tokens_user_uuid": {
          "name": "idx_api_tokens_user_uuid",
          "columns": [
            {
              "expression": "user_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_api_tokens_token_hash": {
          "name": "idx_api_tokens_token_hash",
          "columns": [
            {
              "expression": "token_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "api_tokens_token_id_unique": {
          "name": "api_tokens_token_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token_id"
          ]
        },
        "api_tokens_token_hash_unique": {
          "name": "api_tokens_token_hash_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token_hash"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.team_members": {
      "name": "team_members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "team_uuid": {
          "name": "team_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_uuid": {
          "name": "user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_team_members_team_uuid": {
          "name": "idx_team_members_team_uuid",
          "columns": [
            {
              "expression": "team_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_team_members_user_uuid": {
          "name": "idx_team_members_user_uuid",
          "columns": [
            {
              "expression": "user_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.teams": {
      "name": "teams",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "team_uuid": {
          "name": "team_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_user_uuid": {
          "name": "owner_user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "max_agents": {
          "name": "max_agents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_teams_owner_user_uuid": {
          "name": "idx_teams_owner_user_uuid",
          "columns": [
            {
              "expression": "owner_user_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "teams_team_uuid_unique": {
          "name": "teams_team_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "team_uuid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.kanban_tasks": {
      "name": "kanban_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "task_uuid": {
          "name": "task_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "team_uuid": {
          "name": "team_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "workflow_run_id": {
          "name": "workflow_run_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "kanban_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'backlog'"
        },
        "priority": {
          "name": "priority",
          "type": "kanban_priority",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "assigned_agent_uuid": {
          "name": "assigned_agent_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_agent_uuid": {
          "name": "created_by_agent_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_user_uuid": {
          "name": "created_by_user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "parent_task_uuid": {
          "name": "parent_task_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "stage_id": {
          "name": "stage_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_ms": {
          "name": "estimated_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "actual_ms": {
          "name": "actual_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "depends_on": {
          "name": "depends_on",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "input_mapping": {
          "name": "input_mapping",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "output": {
          "name": "output",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "output_schema": {
          "name": "output_schema",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "max_retries": {
          "name": "max_retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "timeout_ms": {
          "name": "timeout_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "progress_current": {
          "name": "progress_current",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "progress_total": {
          "name": "progress_total",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "progress_message": {
          "name": "progress_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_kanban_tasks_team_uuid": {
          "name": "idx_kanban_tasks_team_uuid",
          "columns": [
            {
              "expression": "team_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_kanban_tasks_status": {
          "name": "idx_kanban_tasks_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_kanban_tasks_assigned_agent": {
          "name": "idx_kanban_tasks_assigned_agent",
          "columns": [
            {
              "expression": "assigned_agent_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_kanban_tasks_depends_on": {
          "name": "idx_kanban_tasks_depends_on",
          "columns": [
            {
              "expression": "depends_on",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "kanban_tasks_task_uuid_unique": {
          "name": "kanban_tasks_task_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "task_uuid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_messages": {
      "name": "agent_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "message_uuid": {
          "name": "message_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "team_uuid": {
          "name": "team_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "workflow_run_id": {
          "name": "workflow_run_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "from_agent_uuid": {
          "name": "from_agent_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "to_agent_uuid": {
          "name": "to_agent_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "message_type": {
          "name": "message_type",
          "type": "message_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'direct'"
        },
        "subject": {
          "name": "subject",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_agent_messages_team_uuid": {
          "name": "idx_agent_messages_team_uuid",
          "columns": [
            {
              "expression": "team_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_messages_to_agent": {
          "name": "idx_agent_messages_to_agent",
          "columns": [
            {
              "expression": "to_agent_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_messages_from_agent": {
          "name": "idx_agent_messages_from_agent",
          "columns": [
            {
              "expression": "from_agent_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "agent_messages_message_uuid_unique": {
          "name": "agent_messages_message_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "message_uuid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.team_invitations": {
      "name": "team_invitations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "invitation_uuid": {
          "name": "invitation_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "team_uuid": {
          "name": "team_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "invite_code": {
          "name": "invite_code",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "created_by_user_uuid": {
          "name": "created_by_user_uuid",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "max_uses": {
          "name": "max_uses",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "use_count": {
          "name": "use_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_team_invitations_team_uuid": {
          "name": "idx_team_invitations_team_uuid",
          "columns": [
            {
              "expression": "team_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_team_invitations_invite_code": {
          "name": "idx_team_invitations_invite_code",
          "columns": [
            {
              "expression": "invite_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "team_invitations_invitation_uuid_unique": {
          "name": "team_invitations_invitation_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "invitation_uuid"
          ]
        },
        "team_invitations_invite_code_unique": {
          "name": "team_invitations_invite_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "invite_code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.workflow_templates": {
      "name": "workflow_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "template_uuid": {
          "name": "template_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "default": "'general'"
        },
        "definition": {
          "name": "definition",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_by_user_uuid": {
          "name": "created_by_user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "workflow_templates_template_uuid_unique": {
          "name": "workflow_templates_template_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "template_uuid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "notification_uuid": {
          "name": "notification_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_uuid": {
          "name": "user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "notification_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": true
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "notifications_notification_uuid_unique": {
          "name": "notifications_notification_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "notification_uuid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.webhook_deliveries": {
      "name": "webhook_deliveries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "delivery_uuid": {
          "name": "delivery_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "webhook_uuid": {
          "name": "webhook_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "webhook_delivery_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "response_code": {
          "name": "response_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_body": {
          "name": "response_body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attempts": {
          "name": "attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_webhook_deliveries_webhook_uuid": {
          "name": "idx_webhook_deliveries_webhook_uuid",
          "columns": [
            {
              "expression": "webhook_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhook_deliveries_status": {
          "name": "idx_webhook_deliveries_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhook_deliveries_next_retry": {
          "name": "idx_webhook_deliveries_next_retry",
          "columns": [
            {
              "expression": "next_retry_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "webhook_deliveries_delivery_uuid_unique": {
          "name": "webhook_deliveries_delivery_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "delivery_uuid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.webhooks": {
      "name": "webhooks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "webhook_uuid": {
          "name": "webhook_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "team_uuid": {
          "name": "team_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "varchar(2048)",
          "primaryKey": false,
          "notNull": true
        },
        "secret": {
          "name": "secret",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "events": {
          "name": "events",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "description": {
          "name": "description",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_user_uuid": {
          "name": "created_by_user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_webhooks_team_uuid": {
          "name": "idx_webhooks_team_uuid",
          "columns": [
            {
              "expression": "team_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhooks_active": {
          "name": "idx_webhooks_active",
          "columns": [
            {
              "expression": "active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "webhooks_webhook_uuid_unique": {
          "name": "webhooks_webhook_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "webhook_uuid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.task_metrics": {
      "name": "task_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "metric_uuid": {
          "name": "metric_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "task_uuid": {
          "name": "task_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_run_id": {
          "name": "workflow_run_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stage_id": {
          "name": "stage_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "agent_uuid": {
          "name": "agent_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "team_uuid": {
          "name": "team_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "prompt_tokens": {
          "name": "prompt_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "completion_tokens": {
          "name": "completion_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cost_cents": {
          "name": "cost_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "latency_ms": {
          "name": "latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "queue_wait_ms": {
          "name": "queue_wait_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "capability": {
          "name": "capability",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_task_metrics_task_uuid": {
          "name": "idx_task_metrics_task_uuid",
          "columns": [
            {
              "expression": "task_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_metrics_agent_uuid": {
          "name": "idx_task_metrics_agent_uuid",
          "columns": [
            {
              "expression": "agent_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_metrics_team_uuid": {
          "name": "idx_task_metrics_team_uuid",
          "columns": [
            {
              "expression": "team_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_metrics_workflow_run_id": {
          "name": "idx_task_metrics_workflow_run_id",
          "columns": [
            {
              "expression": "workflow_run_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_metrics_created_at": {
          "name": "idx_task_metrics_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "task_metrics_metric_uuid_unique": {
          "name": "task_metrics_metric_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "metric_uuid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.approval_gates": {
      "name": "approval_gates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "gate_uuid": {
          "name": "gate_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "team_uuid": {
          "name": "team_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "task_uuid": {
          "name": "task_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_run_id": {
          "name": "workflow_run_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stage_id": {
          "name": "stage_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "approval_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "requested_by_agent_uuid": {
          "name": "requested_by_agent_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "requested_by_user_uuid": {
          "name": "requested_by_user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approvers": {
          "name": "approvers",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "responded_by_user_uuid": {
          "name": "responded_by_user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "response_note": {
          "name": "response_note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "context": {
          "name": "context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "responded_at": {
          "name": "responded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_approval_gates_team_uuid": {
          "name": "idx_approval_gates_team_uuid",
          "columns": [
            {
              "expression": "team_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_approval_gates_status": {
          "name": "idx_approval_gates_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_approval_gates_task_uuid": {
          "name": "idx_approval_gates_task_uuid",
          "columns": [
            {
              "expression": "task_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_approval_gates_workflow_run_id": {
          "name": "idx_approval_gates_workflow_run_id",
          "columns": [
            {
              "expression": "workflow_run_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "approval_gates_gate_uuid_unique": {
          "name": "approval_gates_gate_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "gate_uuid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_memory": {
      "name": "agent_memory",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "memory_uuid": {
          "name": "memory_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agent_uuid": {
          "name": "agent_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "memory_type": {
          "name": "memory_type",
          "type": "memory_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "embedding": {
          "name": "embedding",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "importance": {
          "name": "importance",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "access_count": {
          "name": "access_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_accessed_at": {
          "name": "last_accessed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_run_id": {
          "name": "workflow_run_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "team_uuid": {
          "name": "team_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_agent_memory_agent_uuid": {
          "name": "idx_agent_memory_agent_uuid",
          "columns": [
            {
              "expression": "agent_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_memory_type": {
          "name": "idx_agent_memory_type",
          "columns": [
            {
              "expression": "memory_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_memory_category": {
          "name": "idx_agent_memory_category",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_memory_team_uuid": {
          "name": "idx_agent_memory_team_uuid",
          "columns": [
            {
              "expression": "team_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_memory_importance": {
          "name": "idx_agent_memory_importance",
          "columns": [
            {
              "expression": "importance",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_memory_created_at": {
          "name": "idx_agent_memory_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "agent_memory_memory_uuid_unique": {
          "name": "agent_memory_memory_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "memory_uuid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.resource_locks": {
      "name": "resource_locks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "lock_uuid": {
          "name": "lock_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "resource_type": {
          "name": "resource_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "owner_agent_uuid": {
          "name": "owner_agent_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "owner_workflow_run_id": {
          "name": "owner_workflow_run_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "content_hash": {
          "name": "content_hash",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "conflict_strategy": {
          "name": "conflict_strategy",
          "type": "conflict_strategy",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'fail'"
        },
        "lock_status": {
          "name": "lock_status",
          "type": "lock_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "acquired_at": {
          "name": "acquired_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "released_at": {
          "name": "released_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "team_uuid": {
          "name": "team_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_resource_locks_resource": {
          "name": "idx_resource_locks_resource",
          "columns": [
            {
              "expression": "resource_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_resource_locks_owner": {
          "name": "idx_resource_locks_owner",
          "columns": [
            {
              "expression": "owner_agent_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_resource_locks_status": {
          "name": "idx_resource_locks_status",
          "columns": [
            {
              "expression": "lock_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_resource_locks_expires": {
          "name": "idx_resource_locks_expires",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "resource_locks_lock_uuid_unique": {
          "name": "resource_locks_lock_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "lock_uuid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.budgets": {
      "name": "budgets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "budget_uuid": {
          "name": "budget_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "budget_scope",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "scope_uuid": {
          "name": "scope_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "max_cost_cents": {
          "name": "max_cost_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "alert_threshold_percent": {
          "name": "alert_threshold_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 80
        },
        "action_at_limit": {
          "name": "action_at_limit",
          "type": "budget_action",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pause'"
        },
        "period": {
          "name": "period",
          "type": "budget_period",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'monthly'"
        },
        "current_spend_cents": {
          "name": "current_spend_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "period_start_at": {
          "name": "period_start_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "alert_sent": {
          "name": "alert_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_by_user_uuid": {
          "name": "created_by_user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "team_uuid": {
          "name": "team_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_budgets_scope": {
          "name": "idx_budgets_scope",
          "columns": [
            {
              "expression": "scope",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "scope_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_budgets_team_uuid": {
          "name": "idx_budgets_team_uuid",
          "columns": [
            {
              "expression": "team_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_budgets_active": {
          "name": "idx_budgets_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "budgets_budget_uuid_unique": {
          "name": "budgets_budget_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "budget_uuid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_permission_logs": {
      "name": "agent_permission_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "log_uuid": {
          "name": "log_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agent_uuid": {
          "name": "agent_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "resource": {
          "name": "resource",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "capability": {
          "name": "capability",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "allowed": {
          "name": "allowed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "checked_by_user_uuid": {
          "name": "checked_by_user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "team_uuid": {
          "name": "team_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_agent_perm_logs_agent_uuid": {
          "name": "idx_agent_perm_logs_agent_uuid",
          "columns": [
            {
              "expression": "agent_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_perm_logs_action": {
          "name": "idx_agent_perm_logs_action",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_perm_logs_created_at": {
          "name": "idx_agent_perm_logs_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "agent_permission_logs_log_uuid_unique": {
          "name": "agent_permission_logs_log_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "log_uuid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_permissions": {
      "name": "agent_permissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "permission_uuid": {
          "name": "permission_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agent_uuid": {
          "name": "agent_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agent_role": {
          "name": "agent_role",
          "type": "agent_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'executor'"
        },
        "allowed_capabilities": {
          "name": "allowed_capabilities",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "denied_capabilities": {
          "name": "denied_capabilities",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "allowed_resources": {
          "name": "allowed_resources",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "denied_resources": {
          "name": "denied_resources",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "can_call_external_apis": {
          "name": "can_call_external_apis",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "can_access_production": {
          "name": "can_access_production",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "can_modify_data": {
          "name": "can_modify_data",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "can_delegate_to_agents": {
          "name": "can_delegate_to_agents",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "max_concurrent_ops": {
          "name": "max_concurrent_ops",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "granted_by_user_uuid": {
          "name": "granted_by_user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "team_uuid": {
          "name": "team_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_agent_permissions_agent_uuid": {
          "name": "idx_agent_permissions_agent_uuid",
          "columns": [
            {
              "expression": "agent_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_permissions_role": {
          "name": "idx_agent_permissions_role",
          "columns": [
            {
              "expression": "agent_role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_permissions_team_uuid": {
          "name": "idx_agent_permissions_team_uuid",
          "columns": [
            {
              "expression": "team_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "agent_permissions_permission_uuid_unique": {
          "name": "agent_permissions_permission_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "permission_uuid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_versions": {
      "name": "agent_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "version_uuid": {
          "name": "version_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agent_uuid": {
          "name": "agent_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "endpoint": {
          "name": "endpoint",
          "type": "varchar(2048)",
          "primaryKey": false,
          "notNull": true
        },
        "capabilities": {
          "name": "capabilities",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "version_status": {
          "name": "version_status",
          "type": "version_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "deployment_strategy": {
          "name": "deployment_strategy",
          "type": "deployment_strategy",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'direct'"
        },
        "traffic_percent": {
          "name": "traffic_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "error_rate": {
          "name": "error_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "error_threshold": {
          "name": "error_threshold",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 50
        },
        "total_requests": {
          "name": "total_requests",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_errors": {
          "name": "total_errors",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_rollback_target": {
          "name": "is_rollback_target",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "release_notes": {
          "name": "release_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_user_uuid": {
          "name": "created_by_user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "promoted_at": {
          "name": "promoted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "rolled_back_at": {
          "name": "rolled_back_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "team_uuid": {
          "name": "team_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_agent_versions_agent_uuid": {
          "name": "idx_agent_versions_agent_uuid",
          "columns": [
            {
              "expression": "agent_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_versions_status": {
          "name": "idx_agent_versions_status",
          "columns": [
            {
              "expression": "version_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_versions_version": {
          "name": "idx_agent_versions_version",
          "columns": [
            {
              "expression": "agent_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "agent_versions_version_uuid_unique": {
          "name": "agent_versions_version_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "version_uuid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sandbox_runs": {
      "name": "sandbox_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "sandbox_uuid": {
          "name": "sandbox_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workflow_run_id": {
          "name": "workflow_run_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "sandbox_mode": {
          "name": "sandbox_mode",
          "type": "sandbox_mode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "sandbox_status": {
          "name": "sandbox_status",
          "type": "sandbox_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'running'"
        },
        "workflow_definition": {
          "name": "workflow_definition",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "input": {
          "name": "input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "simulated_output": {
          "name": "simulated_output",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "actual_output": {
          "name": "actual_output",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "diff": {
          "name": "diff",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "stage_results": {
          "name": "stage_results",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "side_effects_blocked": {
          "name": "side_effects_blocked",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_cost_cents": {
          "name": "estimated_cost_cents",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "warnings": {
          "name": "warnings",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_by_user_uuid": {
          "name": "created_by_user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "team_uuid": {
          "name": "team_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "sandbox_namespace": {
          "name": "sandbox_namespace",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "isolate_network": {
          "name": "isolate_network",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_sandbox_runs_user": {
          "name": "idx_sandbox_runs_user",
          "columns": [
            {
              "expression": "created_by_user_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sandbox_runs_mode": {
          "name": "idx_sandbox_runs_mode",
          "columns": [
            {
              "expression": "sandbox_mode",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sandbox_runs_status": {
          "name": "idx_sandbox_runs_status",
          "columns": [
            {
              "expression": "sandbox_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sandbox_runs_team_uuid": {
          "name": "idx_sandbox_runs_team_uuid",
          "columns": [
            {
              "expression": "team_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sandbox_runs_sandbox_uuid_unique": {
          "name": "sandbox_runs_sandbox_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "sandbox_uuid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.user_role": {
      "name": "user_role",
      "schema": "public",
      "values": [
        "admin",
        "user"
      ]
    },
    "public.agent_status": {
      "name": "agent_status",
      "schema": "public",
      "values": [
        "online",
        "degraded",
        "offline"
      ]
    },
    "public.agent_type": {
      "name": "agent_type",
      "schema": "public",
      "values": [
        "generic",
        "openclaw",
        "builtin"
      ]
    },
    "public.workflow_status": {
      "name": "workflow_status",
      "schema": "public",
      "values": [
        "queued",
        "in_progress",
        "completed",
        "failed"
      ]
    },
    "public.stage_status": {
      "name": "stage_status",
      "schema": "public",
      "values": [
        "queued",
        "in_progress",
        "completed",
        "failed"
      ]
    },
    "public.kanban_priority": {
      "name": "kanban_priority",
      "schema": "public",
      "values": [
        "low",
        "medium",
        "high",
        "critical"
      ]
    },
    "public.kanban_status": {
      "name": "kanban_status",
      "schema": "public",
      "values": [
        "backlog",
        "todo",
        "in_progress",
        "review",
        "done"
      ]
    },
    "public.message_type": {
      "name": "message_type",
      "schema": "public",
      "values": [
        "direct",
        "broadcast",
        "system"
      ]
    },
    "public.notification_type": {
      "name": "notification_type",
      "schema": "public",
      "values": [
        "task_assigned",
        "workflow_completed",
        "workflow_failed",
        "team_invite",
        "agent_offline",
        "message_received"
      ]
    },
    "public.webhook_delivery_status": {
      "name": "webhook_delivery_status",
      "schema": "public",
      "values": [
        "pending",
        "success",
        "failed",
        "dead_letter"
      ]
    },
    "public.approval_status": {
      "name": "approval_status",
      "schema": "public",
      "values": [
        "pending",
        "approved",
        "rejected",
        "expired"
      ]
    },
    "public.memory_type": {
      "name": "memory_type",
      "schema": "public",
      "values": [
        "episodic",
        "semantic",
        "working"
      ]
    },
    "public.conflict_strategy": {
      "name": "conflict_strategy",
      "schema": "public",
      "values": [
        "fail",
        "queue",
        "merge",
        "escalate"
      ]
    },
    "public.lock_status": {
      "name": "lock_status",
      "schema": "public",
      "values": [
        "active",
        "released",
        "expired"
      ]
    },
    "public.budget_action": {
      "name": "budget_action",
      "schema": "public",
      "values": [
        "pause",
        "notify",
        "kill"
      ]
    },
    "public.budget_period": {
      "name": "budget_period",
      "schema": "public",
      "values": [
        "daily",
        "weekly",
        "monthly",
        "total"
      ]
    },
    "public.budget_scope": {
      "name": "budget_scope",
      "schema": "public",
      "values": [
        "agent",
        "workflow",
        "team"
      ]
    },
    "public.agent_role": {
      "name": "agent_role",
      "schema": "public",
      "values": [
        "researcher",
        "executor",
        "deployer",
        "auditor",
        "admin"
      ]
    },
    "public.deployment_strategy": {
      "name": "deployment_strategy",
      "schema": "public",
      "values": [
        "direct",
        "canary",
        "blue_green"
      ]
    },
    "public.version_status": {
      "name": "version_status",
      "schema": "public",
      "values": [
        "draft",
        "active",
        "canary",
        "inactive",
        "rolled_back"
      ]
    },
    "public.sandbox_mode": {
      "name": "sandbox_mode",
      "schema": "public",
      "values": [
        "dry_run",
        "shadow",
        "isolated"
      ]
    },
    "public.sandbox_status": {
      "name": "sandbox_status",
      "schema": "public",
      "values": [
        "running",
        "completed",
        "failed"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}